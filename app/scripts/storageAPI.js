storageAPI=function(){function copyObjectProperties(e,t,a){for(var r=t.length,o=0;r>o;o++){var n=t[o];for(var i in n)a&&e.hasOwnProperty(i)||(e[i]=n[i])}}function aggregateObjectProperties(e,t){var a={};return copyObjectProperties(a,e,t),a}function procureOperationOptions(e,t){var a,r=defaultOperationOptionsObj[e];return t?(a={},copyObjectProperties(a,[r,t])):a=r,a}function procureStorageMetatype(e){return"globalStorage"===e||"sessionStorage"===e||"localStorage"===e?"webStorage":e}function procureStorageTypeOptions(e,t){var a,r=defaultStorageTypeOptionsObj[e];return r?t?(a=t,copyObjectProperties(a,[r],!0)):a=r:a=t||{},a}function deserializeDataItemString(e){for(var t=e.split(";"),a={},r=t.length,o=0;r>o;o++){var n=t[o],i=n.indexOf(":"),l=n.substring(0,i),s=decodeExpirationDataItemComponent(n.substring(i+1,n.length));a[l]=s}return a}function escapeBackslashes(e){return e.replace("\\","\\\\")}function isString(e){return"[object String]"===Object.prototype.toString.call(e)}function cookie_serializeLocationData(e){return"domain:"+encodeExpirationDataItemComponent(e.domain)+";path:"+encodeExpirationDataItemComponent(e.path)}function createTimeDataObject(e,t){var a=null;if(void 0!==e){t||(t=new Date);var r=e instanceof Date?e:"number"==typeof e||e instanceof Number?new Date(e):t;a={},a.millisecondsToTimeInstant=r.getTime()-t.getTime(),a.timeInstantUTCString=r.toUTCString()}return a}function cookie_set(e,t,a,r){for(var o=0,n=e.length,i=!0;n>o&&i;o++){var l,s,c,u,p=e[o];r?(l=encodeURIComponent(p),s="",c=!1,u=createTimeDataObject(-1)):(l=encodeURIComponent(p.key),s=encodeURIComponent(p.value),c=p.isSecure||t.isSecure,u=createTimeDataObject(p.expirationTime));var m=l+"="+s,g=u?"max-age="+u.millisecondsToTimeInstant+";":"",d=u?"expires="+u.timeInstantUTCString+";":"",v=null!==t.domain?"domain="+t.domain+";":"",f=null!==t.path?"path="+t.path+";":"",b=c?"secure;":"";document.cookie=m+";"+g+d+v+f+b,i=-1!==document.cookie.search("(^|;)\\s*"+m),r&&(i=!i)}a(o)}function cookie_get(e,t,a){for(var r={},o=document.cookie,n=0,i=e.length;i>n;n++){var l=e[n],s=encodeURIComponent(e[n]),c=null,u=s+"=",p=o.indexOf(u);if(-1!==p){var m=p+u.length,g=o.indexOf(";",p);g=-1===g?o.length:g,c=o.substring(m,g).replace(/\s+$/,""),c=decodeURIComponent(c)}r[l]=c}a(n,r)}function cookie_remove(e,t,a){return cookie_set(e,t,a,!0)}function cookie_getAll(e,t,a){for(var r=0,o=document.cookie.split(";"),n=o.length,r=0;n>r;r++){var i=o[r].replace(/^\s+/,"").replace(/\s+$/,"").split("="),l=decodeURIComponent(i[0]);if(a)o[r]=l;else{var s=decodeURIComponent(i[1]);o[r]={key:l,value:s}}}t(r,o)}function cookie_removeAll(e,t){function a(){function e(e){var a,r=n?0:e;if(n){for(var a=[];e>r;r++)a.push(o[r]);t(e,a)}else t(e)}return e}function r(){function t(t,r){o=r,cookie_set(r,e,a(),!0)}return t}var o,n=e.removeExpirationData;cookie_getAll(e,r(),!0)}function userData_serializeLocationData(e){return"storeName:"+encodeExpirationDataItemComponent(e.storeName)}function userData_executeStorageOperation(e,t,a,r){function o(e){return e&&"save"in e}function n(e){return e&&"addBehavior"in e}var i,l=e.locusElement?e.locusElement:e.useBodyAsBackup?document.body:null;!o(l)&&n(l)&&(i=l.addBehavior("#default#userData"));var s;if(o(l)){l.load(e.storeName);try{storageOperationFunction(l)}catch(c){s=c}r&&l.save(e.storeName)}i&&l.removeBehavior(i),a(s)}function userData_set(e,t,a){function r(t){for(;i>n&&l;n++){var a=e[n].key,r=e[n].value;t.setAttribute(a,r),l=null!==t.getAttribute(a)}}function o(e){e?a(n,e):a(n)}var n=0,i=e.length,l=!0;userData_executeStorageOperation(t,r,o,!0)}function userData_get(e,t,a){function r(t){for(var a=e.length;a>n;n++){var r=e[n];i[r]=t.getAttribute(r)}}function o(e){e?a(n,i,e):a(n,i)}var n=0,i={};userData_executeStorageOperation(t,r,o,!1)}function userData_remove(e,t,a){function r(t){for(var a=e.length;a>n;n++)t.removeAttribute(e[n])}function o(e){e?a(n,e):a(n)}var n=0;userData_executeStorageOperation(t,r,o,!0)}function userData_getAll(e,t){function a(e){for(var t,t,a=e.XMLDocument.documentElement.attributes;null!==(t=a.nextNode());o++){var r=t.nodeName,i=t.nodeValue;n.push({key:r,value:i})}}function r(e){e?t(o,n,e):t(o,n)}var o=0,n=[];userData_executeStorageOperation(e,a,r,!1)}function userData_removeAll(e,t){function a(e){for(var t=e.XMLDocument.documentElement.attributes;t.length>0;o++){var a=t[0].nodeName;t.removeNamedItem(a),i&&i.push(a)}}function r(e){var a=[o];i&&a.push(i),e&&a.push(e),t.apply(t,a)}var o=0,n=e.removeExpirationData,i=n?[]:void 0;userData_executeStorageOperation(e,a,r,!0)}function webStorage_serializeLocationData(e){return e.hasOwnProperty("domain")?"domain:"+encodeExpirationDataItemComponent(e.domain):""}function webStorage_executeStorageOperation(e,t,a,r){function o(e){try{return e in window&&null!==window[e]&&void 0!==window[e]}catch(t){return!1}}function n(e,t){return"globalStorage"===e?window[e][t]:window[e]}var i;if(o(e))try{a(n(e,t.domain))}catch(l){i=l}r(i)}function webStorage_set(e,t,a,r){function o(e){for(var a=t.length;a>l&&i;l++)e.setItem(t[l].key,t[l].value)}function n(e){e?r(l,e):r(l)}var i=!0,l=0;webStorage_executeStorageOperation(e,a,o,n)}function webStorage_get(e,t,a,r){function o(a){for(var r=t.length;r>l;l++){var o=t[l],n="globalStorage"===e?a.getItem(o).value:a.getItem(o);i[o]=n}}function n(e){e?r(l,i,e):r(l,i)}var i={},l=0;webStorage_executeStorageOperation(e,a,o,n)}function webStorage_remove(e,t,a,r){function o(e){for(var a=t.length;a>i;i++)e.removeItem(t[i])}function n(e){e?r(i,e):r(i)}var i=0;webStorage_executeStorageOperation(e,a,o,n)}function webStorage_getAll(e,t,a){function r(t){for(var a=t.length;a>n;n++){var r=t.key(n),o="globalStorage"===e?t.getItem(r).value:t.getItem(r);i.push({key:r,value:o})}}function o(e){e?a(n,i,e):a(n,i)}var n=0,i=[];webStorage_executeStorageOperation(e,t,r,o)}function webStorage_removeAll(e,t,a){function r(e){if(!e.clear||i)for(;e.length>0;n++){var t=e.key(0);e.removeItem(t),l&&l.push(t)}else n=e.length,e.clear()}function o(e){e?a(n,l,e):a(n,l)}var n=0,i=t.removeExpirationData,l=i?[]:void 0;webStorage_executeStorageOperation(e,t,r,o)}function webSQL_serializeLocationData(e){return"databaseName:"+encodeExpirationDataItemComponent(e.databaseName)+";tableName:"+encodeExpirationDataItemComponent(e.tableData.name)+";keyColumnName:"+encodeExpirationDataItemComponent(e.tableData.keyColumnName)}function webSQL_createLocationDataObj(e){var t=deserializeDataItemString(e);return t.tableData={name:t.tableName,keyColumnName:t.keyColumName},delete t.tableName,delete t.keyColumnName,t}function createErrorCompleteFunction(e,t){return function(a){a&&t.push(a),e.apply(e,t)}}function webSQL_executeStorageOperation(e,t,a){var r,o=!1;if(window.openDatabase)try{var n=window.openDatabase(e.databaseName,e.databaseVersion,e.databaseDisplayName,e.estimatedDatabaseSize);o=!0,t(n)}catch(i){r=i}o||a(r)}function webSQL_createIndices(e,t,a){function r(e,t){++n<i?o():a(e)}function o(){var a=t.tableIndexDataArray[n],o="CREATE INDEX IF NOT EXISTS "+a.name+" ON "+t.tableData.name+" "+a.columnNames;e.executeSql(o,[],r)}var n=0,i=t.tableIndexDataArray.length;o()}function webSQL_createTable(e,t,a){function r(e,r){t.tableIndexDataArray.length>0?webSQL_createIndices(e,t,a):a(e)}var o="CREATE TABLE IF NOT EXISTS "+t.tableData.name+" "+t.tableData.columnDefinitions;e.executeSql(o,[],r)}function webSQL_set(e,t,a){function r(){function e(e){var t=0===n.subjectColumnNameArray.length?"":", ";n.subjectColumnNameArray.push(e),n.subjectColumnNameSequenceStr+=t+e,n.subjectColumnValueMarkerSequenceStr+=t+"?"}function a(e){if(e!==c){var t=0===i.subjectColumnNameArray.length?"":", ";i.subjectColumnNameArray.push(e),i.assignmentSequenceStr+=t+e+" = (?)"}}function r(){var e="("+n.subjectColumnNameSequenceStr+")",t="("+n.subjectColumnValueMarkerSequenceStr+")";n.templateStr="INSERT INTO "+l+" "+e+" VALUES "+t,delete n.subjectColumnNameSequenceStr,delete n.subjectColumnValueMarkerSequenceStr}function o(){i.subjectColumnNameArray.length>0?(i.subjectColumnNameArray.push(c),i.templateStr="UPDATE "+l+" SET "+i.assignmentSequenceStr+" WHERE "+c+" = (?)"):(i.subjectColumnNameArray=[],i.templateStr=null),delete i.assignmentSequenceStr}var n={subjectColumnNameArray:[],subjectColumnNameSequenceStr:"",subjectColumnValueMarkerSequenceStr:""},i={subjectColumnNameArray:[],assignmentSequenceStr:""},l=t.tableData.name,s=t.tableData.columnDefinitions,c=t.tableData.keyColumnName,u=/^\(.+\)$/.test(s);u&&(s=s.substring(1,s.length-1));for(var p=s.split(","),m=p.length,g=0;m>g;g++){var d=p[g];d=d.replace(/^\s+/,"");var v=d.split(/\s+/)[0];e(v),a(v)}return r(),o(),{insert:n,update:i}}function o(r){function o(){++i<p?c():a(i)}function n(e,t){var a=!0;return m||t.code!==g||(u(),a=!1),a}function l(e,t){for(var a=[],r=e.length,o=0;r>o;o++){var n=e[o];a.push(t[n])}return a}function c(){r.executeSql(v,l(d,e[i].value),o,n)}function u(){r.executeSql(b,l(f,e[i].value),o)}var p=e.length,m=t.setOnlyIfAbsent,g=6,d=s.insert.subjectColumnNameArray,v=s.insert.templateStr,f=s.update.subjectColumnNameArray,b=s.update.templateStr;c()}function n(e){e.transaction(function(e){webSQL_createTable(e,t,o,l)},l)}var i=0,l=createErrorCompleteFunction(a,[0]),s=r();webSQL_executeStorageOperation(t,n,l)}function webSQL_getOrRemove(e,t,a,r){function o(o){function n(e,a){if(i){var o=t[l],n=a.rows.length>0?a.rows.item(0):null;s[o]=n}++l<u?c():i?r(l,s):r(l)}function c(){o.executeSql(m,[t[l]],n)}var u=t.length,p=i?"*":"",m=e+" "+p+" FROM "+a.tableData.name+" WHERE "+a.tableData.keyColumnName+" = (?)";c()}function n(e){var t=i?"readTransaction":"transaction";e[t](o,c)}var i="SELECT"===e,l=0,s=i?{}:void 0,c=i?createErrorCompleteFunction(r,[0,{}]):createErrorCompleteFunction(r,[0]);webSQL_executeStorageOperation(a,n,c)}function webSQL_get(e,t,a){webSQL_getOrRemove("SELECT",e,t,a)}function webSQL_remove(e,t,a){webSQL_getOrRemove("DELETE",e,t,a)}function webSQL_createWhereClauseString(e){function t(e,t){for(var a,r=/(?:".*?")|(?:'.*?')/g,o=[],n=t.length;null!==(a=r.exec(e));r.lastIndex=r.index+n){var i=a[0];o.push(i),e=e.substring(0,a.index)+t+e.substring(a.index+i.length)}return{substrArray:o,str:e}}function a(e){for(var t,a=/\W?\s*valueObj(?:\s*.)?/g,r="",o=0;null!==(t=a.exec(e));){var n=t[0][0],i="v"===n||"."!==n,l=t[0].length;if(i){var s=t[0].indexOf("val");t.index+=s,l-=s}var c=t.index+(i?0:l);r+=e.substring(o,c),o=t.index+l}return o<e.length&&(r+=e.substring(o)),r}function r(e){function t(e,t){for(var a=0,r=/\(/g;null!==r.exec(e);)a++;for(var o=0,n=/\)/g;null!==n.exec(e);)o++;var i=a-o;return(")"===t?-1:1)*i}for(var a,r,o="",n=/(?:&&)|(?:\|\|)|$/g,i=0,l="",s=/(?:^|(?:\W\s*))keyObj(?!\s*[A-Za-z0-9_$.:])/,c="keyObj";null!==(a=n.exec(e));){var u=a[0],p=e.substring(i,a.index);if(null!==(r=s.exec(p))&&"."!==r[0][0]){var m=l.length>0&&("&"===l[0]||"|"===l[0]),g="&"===u[0]||"|"===u[0],d=m&&g;if(d){var v=r[0],f=r.index+v.indexOf(c),b=f+c.length,S=p.substring(0,f),y=p.substring(b),D=t(S,"("),O=t(y,")"),h=D-O>0;h?u="||":l="||"}else g?u="|| ":m&&(l="||")}if(o+=l+p,l=u,i=a.index+l.length,0===l.length)break}return o}function o(e){return e.replace("&&","AND").replace("||","OR").replace("===","==").replace("!==","!=").replace(/\![^=]/,"~")}function n(e,t,a){for(var r=a.length,o=t.length,n=0,i=0;o>i;n=l,i++){var l=e.indexOf(a,n);e=e.substring(0,l)+t[i]+e.substring(l+r)}return e}var i="@",l=t(e,i),s=l.substrArray;return e=l.str,e=a(e),e=r(e),e=o(e),e=n(e,s,i)}function webSQL_getOrRemoveAll(e,t,a,r){function o(o){function n(e,t){if(i){for(var a=t.rows,o=a.length;o>s;s++)c.push({value:a.item(s)});r(s,c)}else s=t.rowsAffected,r(s)}var u=i?"*":"",p=e+" "+u+" FROM "+a.tableData.name+(l?"":" WHERE "+webSQL_createWhereClauseString(t));o.executeSql(p,[],n)}function n(e){var t=i?"readTransaction":"transaction";e[t](o,u)}var i="SELECT"===e,l="true"===t,s=0,c=i?[]:void 0,u=i?createErrorCompleteFunction(r,[0,[]]):createErrorCompleteFunction(r,[0]);webSQL_executeStorageOperation(a,n,u)}function webSQL_getAll(e,t,a){webSQL_getOrRemoveAll("SELECT",e,t,a)}function webSQL_removeAll(e,t,a){webSQL_getOrRemoveAll("DELETE",e,t,a)}function indexedDB_serializeLocationData(e){return"databaseName:"+encodeExpirationDataItemComponent(e.databaseName)+";objectStoreName:"+encodeExpirationDataItemComponent(e.objectStoreData.name)+";keyPath:"+encodeExpirationDataItemComponent(e.objectStoreData.keyPath)}function indexedDB_createLocationDataObj(e){var t=deserializeDataItemString(e);return t.objectStoreData={name:t.objectStoreName,keyPath:t.keyPath},delete t.objectStoreName,delete t.keyPath,t}function indexedDB_executeStorageOperation(e,t,a){var r=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;if(r){var o=r.open(e.databaseName,e.databaseVersion);t(o)}else a()}function indexedDB_set(e,t,a){function r(e){e.onupgradeneeded=function(){for(var a=e.result,r=a.createObjectStore(t.objectStoreData.name,t.objectStoreData),o=t.objectStoreIndexDataArray,n=o.length,i=0;n>i;i++){var s=o[i];r.createIndex(s.name,s.keyPath,s)}l=!0},e.onsuccess=function(){o(e.result)},e.onerror=e.onblocked=s}function o(r){function o(){++n>=i?((l||t.closeConnection)&&r.close(),a(n)):c()}function c(){var t=m?[e[n].value]:[e[n].value,e[n].key],a=p.put.apply(p,t);a.onsuccess=o}var u=r.transaction([t.objectStoreData.name],"readwrite");u.onerror=s;var p=u.objectStore(t.objectStoreData.name),m=null!==p.keyPath;c()}var n=0,i=e.length,l=!1,s=createErrorCompleteFunction(a,[0]);indexedDB_executeStorageOperation(t,r,s)}function indexedDB_getOrRemove(e,t,a,r,o){function n(e){e.onsuccess=function(){i(e.result)},e.onerror=p}function i(e){function n(){++c>=u?(a.closeConnection&&e.close(),l?r(c,s):r(c)):m()}function i(){var e=f.result;if(o)if(void 0!==e){var a=d.getKey(t[c]);a.onsuccess=function(){if(l)s[a.result]=e,n();else{var t=d.objectStore["delete"](a.result);t.onsuccess=n}}}else n();else l&&(s[t[c]]=e||null),n()}function m(){f=d[b](t[c]),f.onsuccess=i}var g=e.transaction([a.objectStoreData.name],l?"readonly":"readwrite");g.onerror=p;var d=g.objectStore(a.objectStoreData.name);if(o&&a.objectStoreIndexDataArray.length>0){var v=a.objectStoreIndexDataArray[0].name;d=d.index(v)}var f,b=l||o?"get":"delete";m()}var l="get"===e,s=l?{}:void 0,c=0,u=t.length,p=l?createErrorCompleteFunction(r,[0,{}]):createErrorCompleteFunction(r,[0]);indexedDB_executeStorageOperation(a,n,p)}function indexedDB_get(e,t,a){indexedDB_getOrRemove("get",e,t,a)}function indexedDB_remove(e,t,a){indexedDB_getOrRemove("remove",e,t,a)}function indexedDB_getOrRemoveAll(operationType,exprStr,optionsObj,complete){function isSimpleEqualityExpression(e){var t=!1;e=e.replace(/(?:".*?")|(?:'.*?')/g,"");var a=/(?:&&)|(?:\|\|)/,r=a.test(e);if(!r){for(var o=/[^=]===?[^=]/g,n=0;null!==o.exec(e);)n++;t=1===n}return t}function procureUnconditionalOperationImpetusData(exprStr){var impetusDataObj=null,rValueComplementRegex=/(?:^\s*(?:(?:valueObj(?:(?:\s*\[(?:"|').+?(?:"|')\])|\s*\.[$\w]+)*)|keyObj)\s*===?)|(?:===?\s*(?:(?:valueObj(?:(?:\s*\[(?:"|').+?(?:"|')\])|\s*\.[$\w]+)*)|keyObj)\s*$)/,keyObjIncompleteEqualityRegex=/(?:===?\s*keyObj)|(?:keyObj\s*===?)/,matchDataObj;if(null!=(matchDataObj=rValueComplementRegex.exec(exprStr))){exprStr=0===matchDataObj.index?exprStr.substring(matchDataObj[0].length):exprStr.substring(0,matchDataObj.index);var key=eval(escapeBackslashes(exprStr)),originType=keyObjIncompleteEqualityRegex.test(matchDataObj[0])?"objectStore":"index";impetusDataObj={key:key,originType:originType}}return impetusDataObj}function wrapComplete(){var e=complete;complete=function(t,a){complete=e;var r=!1;for(var o in a)r=!0,complete(t,[{key:o,value:a[o]}]);r||complete(t,[])}}function handleOpenDabaseRequest(e){e.onsuccess=function(){performOperation(e.result)},e.onerror=errorComplete}function performOperation(database){var transaction=database.transaction([optionsObj.objectStoreData.name],isGet?"readonly":"readwrite");transaction.onerror=errorComplete;var targetObjectStore=transaction.objectStore(optionsObj.objectStoreData.name),hasKeyPath=null!==targetObjectStore.keyPath,isClearOperation=!isGet&&"true"===exprStr;if(isClearOperation){var clearObjectStoreRequest=targetObjectStore.clear();clearObjectStoreRequest.onsuccess=function(){complete(0)}}else{var openCursorRequest=targetObjectStore.openCursor();openCursorRequest.onsuccess=function(){var cursor=openCursorRequest.result,canContinue=!0;if(cursor){var keyObj=cursor.key,valueObj=cursor.value;if(eval(escapeBackslashes(exprStr))===!0)if(isGet){var resultObj=hasKeyPath?valueObj:{key:keyObj,value:valueObj};dataArray.push(resultObj),++i}else{canContinue=!1;var dataItemDeleteRequest=cursor["delete"]();dataItemDeleteRequest.onsuccess=function(){++i,dataArray&&dataArray.push(keyObj),cursor["continue"]()}}canContinue&&cursor["continue"]()}else optionsObj.closeConnection&&database.close(),returnsData?complete(i,dataArray):complete(i)}}}var isGet="get"===operationType,removeExpirationData=optionsObj.removeExpirationData,returnsData=isGet||removeExpirationData,i=0,dataArray=returnsData?[]:void 0,errorComplete=returnsData?createErrorCompleteFunction(complete,[0,[]]):createErrorCompleteFunction(complete,[0]),wasExecutionForwarded=!1;if(isSimpleEqualityExpression(exprStr)){var procuredProcessingDataObj=procureUnconditionalOperationImpetusData(exprStr);procuredProcessingDataObj&&("objectStore"===procuredProcessingDataObj.originType||optionsObj.objectStoreIndexDataArray.length>0&&optionsObj.objectStoreIndexDataArray[0].unique)&&("get"===operationType&&wrapComplete(),indexedDB_getOrRemove(operationType,[procuredProcessingDataObj.key],optionsObj,complete,"index"===procuredProcessingDataObj.originType),wasExecutionForwarded=!0)}wasExecutionForwarded||indexedDB_executeStorageOperation(optionsObj,handleOpenDabaseRequest,errorComplete)}function indexedDB_getAll(e,t,a){indexedDB_getOrRemoveAll("get",e,t,a)}function indexedDB_removeAll(e,t,a){indexedDB_getOrRemoveAll("remove",e,t,a)}function fileSystem_serializeLocationData(e){return"storageType:"+encodeExpirationDataItemComponent(e.storageType)+";directoryPath:"+encodeExpirationDataItemComponent(e.directoryPath)}function realizeDirectoryPath(e,t,a,r){function o(e){++a<t.length?realizeDirectoryPath(e,t,a,r):r.execute(e)}var n=t[a],i={create:!0,exclusive:!1};e.getDirectory(n,i,o,r.complete)}function fileSystem_executeStorageOperation(e,t,a){function r(e){if("NotFoundError"!==e.name&&e.code!==e.NOT_FOUND_ERR||!p)a();else{var r=s.replace(/(?:^\s*(?:\/|\\)+)|(?:(?:\/|\\)+\s*$)/g,"").split(/(?:\/|\\)+/g),o={execute:t,complete:a};realizeDirectoryPath(i,r,0,o)}}function o(e){if(i=e.root,c)t(i);else{var a={create:u,exclusive:!1};i.getDirectory(s,a,t,r)}}var n=window.requestFileSystem||window.webkitRequestFileSystem;if(!n)return void a();var i,l=e.storageType===Window.PERSISTENT?navigator.webkitPersistentStorage:navigator.webkitTemporaryStorage,s=e.directoryPath,c="/"===s||"\\"===s||null===s||void 0===s,u=c?!1:e.canRealizeDirectoryPath||!1,p=u&&e.realizeDirectoryPath,m=function(t){n(e.storageType,t,o,a)};if(l===navigator.webkitPersistentStorage){var g=m;m=function(e){l.requestQuota(e,g,a)}}m(e.size)}function fileSystem_set(e,t,a){function r(e){e?a(S,e):a(S)}function o(){++S<b?s():r()}function n(e){function t(){d===Number.MAX_VALUE&&(d=e.length),l=!0,e.seek(d),e.write(a)}var a,n=u.type||"";if(y)a=new Blob([u.value],{type:n});else{var i=new D;i.append(u.value),a=i.getBlob()}var l=!1;e.onwriteend=function(a){var n=null!==e.error;n?r():l?o():t()},p?(g===Number.MAX_VALUE&&(g=e.length),e.truncate(g)):t()}function i(e){e.createWriter(n,r)}function l(){p=u.hasOwnProperty("truncateBeforeWrite")?u.truncateBeforeWrite:t.truncateBeforeWrite,m=u.hasOwnProperty("writeOnlyIfAbsent")?u.writeOnlyIfAbsent:t.writeOnlyIfAbsent,g=u.hasOwnProperty("truncatePosition")?u.truncatePosition:t.truncatePosition,d=u.hasOwnProperty("startPosition")?u.startPosition:t.startPosition,v=0>=d,f=p&&0>=g}function s(t){c||(c=t),u=e[S],l(),c.getFile(e[S].key,{create:v&&f,exclusive:m},i,r)}var c,u,p,m,g,d,v,f,b=e.length,S=0,y=!!window.Blob,D=y?void 0:window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;t.canRealizeDirectoryPath=!0,fileSystem_executeStorageOperation(t,s,r)}function readFileEntry(e,t,a,r){function o(e){var o=new FileReader;o.onload=function(){a(!0,o.result)},o.onerror=function(e){a(!1,e)};var n,i=r&&r.hasOwnProperty("dataFormat")?r.dataFormat:t.dataFormat;switch(i){case"dataURL":n="readAsDataURL";break;case"arrayBuffer":n="readAsArrayBuffer";break;default:n="readAsText"}var l=r&&r.hasOwnProperty("dataEncoding")?r.dataEncoding:null;o[n](e,l)}e.file(o,a)}function removeEntry(e,t,a){var r=function(){a(!0)},o=function(e){a(!1,e)};e.remove(r,o)}function fileSystem_getOrRemove(e,t,a,r){function o(e){var t=[f];d&&t.push(d),e&&t.push(e),r.apply(r,t)}function n(e,t){e&&++f<v?c():o(t)}function i(e,t){return e||"NotFoundError"!==t.name||(e=!0,t=null),e&&g&&(d[p]=t),e}function l(e,t){n(i(e,t))}function s(e){var t;t=g&&u.hasOwnProperty("key")?{dataFormat:u.dataFormat,dataEncoding:u.dataEncoding}:void 0,b(e,a,l,t)}function c(e){m||(m=e),u=t[f],p=u.hasOwnProperty("key")?u.key:u,m.getFile(p,{create:!1},s,o)}var u,p,m,g="get"===e,d=g?{}:void 0,v=t.length,f=0,b=g?readFileEntry:removeEntry;fileSystem_executeStorageOperation(a,c,o)}function fileSystem_get(e,t,a){fileSystem_getOrRemove("get",e,t,a)}function fileSystem_remove(e,t,a){fileSystem_getOrRemove("remove",e,t,a)}function fileSystem_getOrRemoveAll(e,t,a){function r(e){var t=[b];f&&t.push(f),e&&t.push(e),a.apply(a,t)}function o(e,t){var a=e;e=e===!0||void 0===e,e?(a&&b++,c()):r(t)}function n(e,t){e?g?f.push({key:p.fullPath,value:t}):v&&f.push(p.fullPath):y=D=[]}function i(e,t){n(e,t),o(e,t)}function l(){S(p,t,i)}function s(e){return!g&&m&&t.removeTargetDirectory&&"/"!==e.fullPath}function c(e){if(e&&y.push.apply(y,e),!m)for(;y.length>0&&y.peek().isDirectory;)y.pop();(p=y.pop())?p.isDirectory?u(p):l():d&&(p=D.pop())?l():r()}function u(e){s(e)?e.removeRecursively(o,r):e.createReader().readEntries(c,r)}var p,m=t.recursive,g="get"===e,d=!g,v=t.removeExpirationData,f=g||v?[]:void 0,b=0,S=g?readFileEntry:removeEntry,y=[],D=[];y.peek=function(){return this.length>0?this[this.length-1]:void 0},fileSystem_executeStorageOperation(t,u,r)}function fileSystem_getAll(e,t){fileSystem_getOrRemoveAll("get",e,t)}function fileSystem_removeAll(e,t){fileSystem_getOrRemoveAll("remove",e,t)}function createExternalFileAssociatedAssetsObj(e,t){return{canUse:void 0,domElement:void 0,status:externalFileStatusObj.NOT_LOADED,minMajorPluginVersionRequired:e,isSupportingPluginVersionInstalled:t,createDOMElement:void 0}}function createExternalStorageOperationAssetObj(){return{pendingOperationActionObjArray:[],activeOperationCompleteFuncObj:{}}}function advancePendingExternalStorageOperations(e,t){for(var a=externalStorageOperationAssetsWrapperObj[e],r=a.pendingOperationActionObjArray,o="execute"===t,n=r.length,i=0;n>i;i++){var l=r[i];o?executeExternalStorageOperation(a,l.execute,l.complete):l[t]()}r=[]}function changeExternalFileStatus(e,t){var a,r=externalFileAssocAssetsWrapperObj[e];t?(r.status=externalFileStatusObj.LOADED,a="execute"):(r.status=externalFileStatusObj.ERROR,a="errorComplete"),advancePendingExternalStorageOperations(e,a)}function completeExternalStorageOperation(e,t,a){var r=externalStorageOperationAssetsWrapperObj[e],o=r.activeOperationCompleteFuncObj[t];delete r.activeOperationCompleteFuncObj[t],o.apply(window,a)}function queueExternalStorageOperation(e,t,a,r){var o={execute:t,complete:a,errorComplete:r};e.pendingOperationActionObjArray.push(o)}function createID(){for(var e=(new Date).getTime()+"_",t=4,a=0;t>a;a++){var r=Math.floor(26*Math.random())+65;e+=String.fromCharCode(r)}return e}function executeExternalStorageOperation(e,t,a){var r=createID();e.activeOperationCompleteFuncObj[r]=a,t(r)}function conductExternalStorageOperation(e,t,a,r,o){var n=e.status;e.canUse&&n!==externalFileStatusObj.ERROR?n===externalFileStatusObj.NOT_LOADED||n===externalFileStatusObj.LOADING?(queueExternalStorageOperation(t,a,r,o),n===externalFileStatusObj.NOT_LOADED&&(n=e.status=externalFileStatusObj.LOADING,e.createDOMElement())):executeExternalStorageOperation(t,a,r):o()}function createConditionalGetAllCompleteFunc(exprStr,complete,onlyKeys){var originalComplete=complete;return complete=function(processedItemCount,dataItemObjArray){for(var resultEntityArray=[],dataItemCount=dataItemObjArray.length,i=0;dataItemCount>i;i++){var currentDataItemObj=dataItemObjArray[i],keyObj=currentDataItemObj.key,valueObj=currentDataItemObj.value;if(eval(escapeBackslashes(exprStr))===!0){var resultEntity=onlyKeys?keyObj:currentDataItemObj;resultEntityArray.push(resultEntity)}}originalComplete(resultEntityArray.length,resultEntityArray)}}function createConditionalRemoveAllCompleteFunc(e,t,a,r,o){function n(e){l?(l=l.slice(0,e),r(e,l)):r(e)}function i(e,r){o&&(l=r),r.length>0?a(r,t,n):n(0)}var l;return createConditionalGetAllCompleteFunc(e,i,!0)}function createExternalStorageErrorCompleteFunc(e,t){var a;switch(e){case"get":a=function(){t(0,{})};break;case"getAll":a=function(){t(0,[])};break;default:a=function(){t(0)}}return a}function flash_isSupportingVersionInstalled(e){var t;try{try{var a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{a.AllowScriptAccess="always"}catch(r){t=6}}catch(r){}void 0===t&&(t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").match(/\d+/)[0])}catch(r){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=parseInt((navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.match(/\d+/)[0]))}catch(r){}}return void 0!==t?t>=e:!1}function flash_createDOMElement(e){var t="containerDomain="+window.location.hostname,a="<object id='"+e.elementID+"' type='application/x-shockwave-flash' data='"+e.swfPath+"' style='"+e.elementStyle+"'><param name='movie' value='"+e.swfPath+"'/><param name='allowScriptAccess' value='"+e.allowScriptAccess+"'/><param name='flashVars' value='"+t+"'/></object>";e.elementParent.innerHTML+=a}function flash_conductStorageOperation(e,t,a,r,o){function n(r){i||(i=l.domElement=document.getElementById(a.elementID));var o="lso_getAll"!==e;delete a.elementParent,o?i[e](t,a,r):i[e](a,r)}var i,l=externalFileAssocAssetsWrapperObj.flash,s=externalStorageOperationAssetsWrapperObj.flash;void 0===l.canUse&&(l.canUse=l.isSupportingPluginVersionInstalled(l.minMajorPluginVersionRequired),l.createDOMElement=function(){flash_createDOMElement(a)}),conductExternalStorageOperation(l,s,n,r,o)}function flash_serializeLocationData(e){return"lsoName:"+encodeExpirationDataItemComponent(e.lsoName)+";lsoPath:"+encodeExpirationDataItemComponent(e.lsoPath)}function flash_set(e,t,a){var r=createExternalStorageErrorCompleteFunc("set",a);flash_conductStorageOperation("lso_set",e,t,a,r)}function flash_get(e,t,a){var r=createExternalStorageErrorCompleteFunc("get",a);flash_conductStorageOperation("lso_get",e,t,a,r)}function flash_remove(e,t,a){var r=createExternalStorageErrorCompleteFunc("remove",a);flash_conductStorageOperation("lso_remove",e,t,a,r)}function flash_getAll(e,t,a){var r=createExternalStorageErrorCompleteFunc("getAll",a);a=createConditionalGetAllCompleteFunc(e,a),flash_conductStorageOperation("lso_getAll",e,t,a,r)}function flash_removeAll(e,t,a){function r(e,t,a){var r=function(){flash_remove(e,t,a)};setTimeout(r,1)}var o=t.removeExpirationData?"getAll":"removeAll",n=createExternalStorageErrorCompleteFunc(o,a);"true"!==e&&(a=createConditionalRemoveAllCompleteFunc(e,t,r,a,!1)),flash_conductStorageOperation("lso_removeAll",e,t,a,n)}function silverlight_isSupportingVersionInstalled(e){var t=!1;try{var a=null;try{a=new ActiveXObject("AgControl.AgControl");var r=e+".0.0.0";t=e>0?a.IsVersionSupported(r):!0,a=null}catch(o){var n=navigator.plugins["Silverlight Plug-In"];if(n)if(e>0){var i=n.description;"1.0.30226.2"===i&&(i="2.0.30226.2");var l=i.substring(0,i.indexOf("."));t=parseInt(l)>=e}else t=!0}}catch(o){}return t}function silverlight_createDOMElement(e){var t="<object type='application/x-silverlight' data='data:application/x-silverlight,' style='"+e.elementStyle+"'><param name='source' value='"+e.xapPath+"'/></object>";return e.elementParent.innerHTML+=t,e.elementParent.lastChild}function silverlight_conductStorageOperation(e,t,a,r,o){function n(r){var o=-1===e.indexOf("All")||"iss_removeAll"===e;o?s.content.storageAPI[e](t,a,r):s.content.storageAPI[e](a,r)}var i=externalFileAssocAssetsWrapperObj.silverlight,l=externalStorageOperationAssetsWrapperObj.silverlight,s=i.domElement;void 0===i.canUse&&(i.canUse=i.isSupportingPluginVersionInstalled(i.minMajorPluginVersionRequired),i.createDOMElement=function(){s=i.domElement=silverlight_createDOMElement(a)}),conductExternalStorageOperation(i,l,n,r,o)}function silverlight_serializeLocationData(e){var t=e.conduitClass,a="IsolatedStorageFile"===t;return"storeScope:"+encodeExpirationDataItemComponent(e.storeScope)+";conduitClass:"+encodeExpirationDataItemComponent(t)+(a?";directoryPath:"+encodeExpirationDataItemComponent(e.directoryPath):"")}function sl_getOperationManagedFuncName(e,t){return("IsolatedStorageSettings"===e?"iss":"isf")+"_"+t}function silverlight_set(e,t,a){var r=sl_getOperationManagedFuncName(t.conduitClass,"set"),o=createExternalStorageErrorCompleteFunc("set",a);silverlight_conductStorageOperation(r,e,t,a,o)}function silverlight_get(e,t,a){var r=sl_getOperationManagedFuncName(t.conduitClass,"get"),o=createExternalStorageErrorCompleteFunc("get",a);silverlight_conductStorageOperation(r,e,t,a,o)}function silverlight_remove(e,t,a){var r=sl_getOperationManagedFuncName(t.conduitClass,"remove"),o=createExternalStorageErrorCompleteFunc("remove",a);silverlight_conductStorageOperation(r,e,t,a,o)}function silverlight_getAll(e,t,a){var r=createExternalStorageErrorCompleteFunc("getAll",a),o=t.conduitClass,n=sl_getOperationManagedFuncName(o,"getAll");"IsolatedStorageSettings"===o&&(a=createConditionalGetAllCompleteFunc(e,a)),silverlight_conductStorageOperation(n,e,t,a,r)}function silverlight_removeAll(e,t,a){var r=t.removeExpirationData?"getAll":"removeAll",o=createExternalStorageErrorCompleteFunc(r,a),n=t.conduitClass,i=sl_getOperationManagedFuncName(n,"removeAll");"IsolatedStorageSettings"===n&&"true"!==e&&(a=createConditionalRemoveAllCompleteFunc(e,t,silverlight_remove,a,!1)),silverlight_conductStorageOperation(i,e,t,a,o)}function isDOMError(e){return e instanceof Object&&"string"==typeof e.name&&-1!==e.name.toLowerCase().indexOf("error")}function createRegexFriendlyVersionOf(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\\\$&")}function encodeExpirationDataItemComponent(e){"string"!=typeof e&&(e+="");for(var t="",a="%"+";".charCodeAt(0).toString(16),r="%"+"_".charCodeAt(0).toString(16),o="%"+"|".charCodeAt(0).toString(16),n=e.length,i=0;n>i;i++){var l=e[i];switch(l){case";":t+=a;break;case"_":t+=r;break;case"|":t+=o;break;default:t+=l}}return t}function decodeExpirationDataItemComponent(e){for(var t="",a="",r="%"+";".charCodeAt(0).toString(16),o="%"+"_".charCodeAt(0).toString(16),n="%"+"|".charCodeAt(0).toString(16),i=e.length,l=0;i>l;l++){a+=e[l];var s=l===i-1,c="%"!==a[0]||3===a.length||s;if(c){var u=void 0;switch(a){case r:t+=";";break;case o:t+="_";break;case n:t+="|";break;default:u=s?a.length:a.indexOf("%",1),-1===u&&(u=a.length),t+=a.substring(0,u)}void 0===u&&(u=a.length),a=a.substring(u,a.length)}}return t}function createExpirationDataArray(e,t){for(var a=[],r=e.length,o=0;r>o;o++)for(var n=e[o],i=n.storageType,l=n.dataArray,s=l.length,c=0;s>c;c++){var u=l[c],p=u.key+"_"+i+"_"+u.serializedLocationData,m=t?{value:{key:p,expirationTimeMillis:u.expirationTimeMillis}}:p;a.push(m)}return a}function setExpirationDataBlob(e,t,a){var r=[{key:expirationDataRepositoryName,value:t}],o={},n=defaultStorageTypeExpirationDataPrimedOptionsObj[e]||defaultStorageTypeOptionsObj[e];o[e]={},copyObjectProperties(o[e],[n],!0);var i={};conductStorageOperation("set",e,{data:r,options:o,functions:i},a)}function updateSerializedExpirationData(e,t,a,r,o){
    e||(e="");for(var n=t.length,i=0;n>i;i++)for(var l=t[i],s=l.dataArray,c=encodeExpirationDataItemComponent(l.storageType),u=s.length,p=0;u>p;p++){var m=s[p],g=encodeExpirationDataItemComponent(m.key),d=m.serializedLocationData,v=g+"_"+c+"_"+d,f=void 0!==m.expirationTimeMillis?v+"_"+m.expirationTimeMillis:void 0,b=new RegExp("(?:^|\\|)"+createRegexFriendlyVersionOf(v)+"_\\d+(?:$|\\|)"),S=e.search(b);if(-1!==S){S+="|"===e[S]?1:0;var y=e.indexOf("|",S);y=-1===y?e.length:y,e=a(S,y,e,f)}else e=r(e,f)}o(e)}function conductExpirationDataStorageOperation(e,t,a,r){var o=procureStorageMetatype(e),n="webSQL"===e||"indexedDB"===e?"database":"nonDatabase",i=t[n],l=a[n],s=procureStorageTypeOptions(e,defaultStorageTypeExpirationDataPrimedOptionsObj[e]),c=storageOperationFuncObj[o][i];o!==e?c(e,l,s,r):c(l,s,r)}function recordExpirationData(e){function t(e,t,a,r){return a.substring(0,e)+r+a.substring(t)}function a(e,t){return e+=(""===e?"":"|")+t}function r(e){setExpirationDataBlob(i,e,o)}function o(o,i,s){var c=1===arguments.length||2===arguments.length&&!isDOMError(i);c?void 0!==i&&updateSerializedExpirationData(i[expirationDataRepositoryName],e,t,a,r):(++l,n())}function n(){l<expirationDataAptStorageTypesArray.length&&(i=expirationDataAptStorageTypesArray[l],conductExpirationDataStorageOperation(i,c,s,o))}var i,l=0,s={database:createExpirationDataArray(e,!0),nonDatabase:[expirationDataRepositoryName]},c={database:"set",nonDatabase:"get"};return n(),this}function removeExpirationData(e,t){function a(e,t,a){return t+=t<a.length?1:0,a.substring(0,e)+a.substring(t)}function r(e){return e}function o(e){setExpirationDataBlob(l,e,n)}function n(t,n){var l=1===arguments.length||2===arguments.length&&!isDOMError(n),c=l&&void 0!==n;if(c){var u=n[expirationDataRepositoryName];u?updateSerializedExpirationData(u,e,a,r,o):l=c=!1}l||(++s,i())}function i(){s<c.length&&(l=c[s],conductExpirationDataStorageOperation(l,p,u,n))}var l,s=0,c=t?[t]:expirationDataAptStorageTypesArray,u={database:createExpirationDataArray(e,!1),nonDatabase:[expirationDataRepositoryName]},p={database:"remove",nonDatabase:"get"};return i(),this}function removeExpired(e){function t(e,t){for(var a={},r=[],o=e.length,n=0;o>n;n++){var i=e[n],s=t?i.key:i,c=s.split("_"),u=c.length-(t?0:1),p=t?Number.NEGATIVE_INFINITY:c[u];if(l>=p){var m=decodeExpirationDataItemComponent(c[0]),g=decodeExpirationDataItemComponent(c[1]),d=decodeExpirationDataItemComponent(c[2]),v=a[g];void 0===v&&(v=a[g]=r.length,r.push({storageType:g,dataArray:[]})),r[v].dataArray.push({key:m,serializedLocationData:d})}}return r}function a(){var t=c[u],a=t.storageType,r=procureStorageMetatype(a),o=t.dataArray[p];e.options[a]||(e.options[a]={});var n=storageOperationFuncObj[r].createLocationDataObj(o.serializedLocationData);copyObjectProperties(e.options[a],[n]),e.storageTypes=[a],"webSQL"!==a?(e.data=[o.key],remove(e)):(e.filter=o.key,removeAll(e))}function r(e,t){var r=!0,o=c[u],n=t[o.storageType];if(!n){var l=o.dataArray[p];0===p&&m.push({storageType:o.storageType,dataArray:[]}),m[m.length-1].dataArray.push(l),++p>=o.dataArray.length&&(++u,p=0),u<c.length&&(r=!1,a())}r&&removeExpirationData(m,i)}function o(e,r,o){var i=!o;if(i){var l=r instanceof Array;l||(r=r[expirationDataRepositoryName]?r[expirationDataRepositoryName].split("|"):[]),r.length>0&&(c=t(r,l),a())}i||(++s,n())}function n(){s<expirationDataAptStorageTypesArray.length&&(i=expirationDataAptStorageTypesArray[s],conductExpirationDataStorageOperation(i,d,g,o))}var i,l=(new Date).getTime(),s=0;e||(e={}),e.options||(e.options={}),e.complete=r;var c=[],u=0,p=0,m=[],g={database:"valueObj.expirationTimeMillis <= "+l,nonDatabase:[expirationDataRepositoryName]},d={database:"getAll",nonDatabase:"get"};return n(),this}function conductStorageOperation(e,t,a,r){var o=procureStorageMetatype(t),n=procureStorageTypeOptions(t,a.options[t]),i=a.functions[o],l=storageOperationFuncObj[o][e],s=i||l,c=[];o!==t&&c.push(t),-1!==e.indexOf("All")?("removeAll"===e&&(n.removeExpirationData=a.options.removeExpirationData),("indexedDB"===t||"webSQL"===t||"flash"===t||"silverlight"===t)&&((void 0===a.filter||null===a.filter||""===a.filter)&&(a.filter="true"),c.push(a.filter))):c.push(a.data),Array.prototype.push.apply(c,[n,r]),s.apply(s,c)}function set(e){function t(e,t,a){var r;if("indexedDB"===t)if(null!==a.objectStoreData.keyPath){for(var o=a.objectStoreData.keyPath.split("."),n=o.length,i=e.value,l=0;n>l;l++)i=i[o[l]];r=i}else r=e.key;else if("webSQL"===t){var s=a.tableData.columnDefinitions;"("===s[0]&&(s=s.substring(1,s.length-1));var c=s.split(",");r="";for(var u=c.length,l=0;u>l;l++){var p=c[l];if(/\bPRIMARY KEY\b/.test(p)){var m=/\w+/.exec(p)[0],g=e.value[m];g=isString(g)?"'"+g+"'":g,r+=(""===r?"":" && ")+m+" === "+g}}}else r=e.key;return r}function a(a){for(var r,o=null,n=[],i=procureStorageMetatype(c),l=procureStorageTypeOptions(c,e.options[c]),s=e.data,u=0;a>u;u++){var p=s[u];if(p.hasOwnProperty("expirationTimeMillis")){void 0===r&&(r=storageOperationFuncObj[i].serializeLocationData(l));var m=t(p,c,l);n.push({key:m,expirationTimeMillis:p.expirationTimeMillis,serializedLocationData:r})}}return n.length>0&&(o={storageType:c,dataArray:n}),o}function r(t,s){var g=m-t;if(n[c]={storedItemRangeBegin:p,onePastStoredItemRangeEnd:p+t},s&&(i[c]=s),d){var f=a(t);null!==f&&l.push(f)}var b=0===g,S=++o>=u||(v?!1:b);S?(e.complete&&e.complete(n,i),d&&recordExpirationData(l)):(v||(e.dataArray.splice(t),p+=t,m=g),c=e.storageTypes[o],conductStorageOperation("set",c,e,r))}var o=0,n={},i={},l=[];e.options||(e.options={}),e.functions||(e.functions={});var s=aggregateObjectProperties([e,{data:e.data.slice(0)}],!1);e=s;var c=e.storageTypes[0],u=e.storageTypes.length,p=0,m=e.data.length,g=procureOperationOptions("set",e.options),d=g.recordExpirationData,v=g.conductDisjointly;return conductStorageOperation("set",c,e,r),this}function get(e){function t(t,a){for(var r=[],o=e.data,n=0;t>n;n++){var i=o[n],l=a[i];null===l&&r.push(i)}return r}function a(){for(var e=c.length,t=0;e>t;t++){for(var a=c[t].data,r=0,o=a.length,n=0;o>n;n++){var i=a[n],s=l.hasOwnProperty(i),u=l[i];s&&null!==u&&(a[r++]={key:i,value:u})}r>0?a.splice(r,o-r):c.splice(t,1)}}function r(){i<c.length&&(c[i].functions=d,c[i].complete=r,set(c[i++]))}function o(i,u,p){var d;if(m)d=l[v]={};else{var b=t(i,u);if(Array.prototype.splice.apply(e.data,[0,i]),Array.prototype.push.apply(e.data,b),g&&b.length>0){var S={};S[v]=e.options[v],c.push({data:b,storageTypes:[v],options:S})}d=l}copyObjectProperties(d,[u]),p&&(s[v]=p);var y=++n>=f||0===e.data.length;y?(e.complete&&e.complete(l,s),g&&(a(),r())):(v=e.storageTypes[n],conductStorageOperation("get",v,e,o))}var n=0,i=0,l={},s={},c=[];e.options||(e.options={}),e.functions||(e.functions={});var u=aggregateObjectProperties([e,{data:e.data.slice(0)}],!1);e=u;var p=procureOperationOptions("get",e.options),m=p.conductDisjointly,g=p.regenerate&&!m,d=e.regenerationFunctions,v=e.storageTypes[0],f=e.storageTypes.length;return conductStorageOperation("get",v,e,o),this}function remove(e){function t(t){for(var a=[],r=e.data,o=procureStorageMetatype(s),n=procureStorageTypeOptions(s,e.options[s]),i=storageOperationFuncObj[o].serializeLocationData(n),l=0;t>l;l++)a.push({key:r[l],serializedLocationData:i});return{storageType:s,dataArray:a}}function a(c,p){o[s]=c,p&&(n[s]=p),u&&c>0&&i.push(t(c));var m=++r>=l;m?(e.complete&&e.complete(o,n),i.length>0&&removeExpirationData(i)):(s=e.storageTypes[r],conductStorageOperation("remove",s,e,a))}var r=0,o={},n={},i=[];e.options||(e.options={}),e.functions||(e.functions={});var l=e.storageTypes.length,s=e.storageTypes[r],c=procureOperationOptions("remove",e.options),u=c.removeExpirationData;return conductStorageOperation("remove",s,e,a),this}function getOrRemoveAll(e,t){function a(e){for(var a=[],r=procureStorageMetatype(c),o=procureStorageTypeOptions(c,t.options[c]),n=storageOperationFuncObj[r].serializeLocationData(o),i="fileSystem"===c||"silverlight"===c&&"IsolatedStorageFile"===o.conduitClass,l=e.length,s=0;l>s;s++){var u;if(i){var p=e[s],m=p.split(/(?:\\|\/)(?=[^\\\/]+$)/),g=m[m.length-1],d=2===m.length?m[0]+p[m[0].length]:"/";o.directoryPath=d,n=storageOperationFuncObj[c].serializeLocationData(o),u={key:g,serializedLocationData:n}}else u={key:e[s],serializedLocationData:n};a.push(u)}return{storageType:c,dataArray:a}}function r(p,g,d){var v=u?g:p;n[c]=v,u||m||(d=g),d&&(i[c]=d),m&&p>0&&l.push(a(g));var f=++o>=s;f?(t.complete&&t.complete(n,i),m&&removeExpirationData(l)):(c=t.storageTypes[o],conductStorageOperation(e,c,t,r))}var o=0,n={},i={},l=[];t.options||(t.options={}),t.functions||(t.functions={});var s=t.storageTypes.length,c=t.storageTypes[0],u="getAll"===e,p=procureOperationOptions(e,t.options),m=p.removeExpirationData;return conductStorageOperation(e,c,t,r),this}function getAll(e){return getOrRemoveAll("getAll",e)}function removeAll(e){return getOrRemoveAll("removeAll",e)}var externalFileStatusObj={NOT_LOADED:0,LOADING:1,LOADED:2,ERROR:3},externalFileAssocAssetsWrapperObj={flash:createExternalFileAssociatedAssetsObj(9,flash_isSupportingVersionInstalled),silverlight:createExternalFileAssociatedAssetsObj(3,silverlight_isSupportingVersionInstalled)},externalStorageOperationAssetsWrapperObj={flash:createExternalStorageOperationAssetObj(),silverlight:createExternalStorageOperationAssetObj()};window.storageAPI_changeExternalFileStatus=changeExternalFileStatus,window.storageAPI_completeExternalStorageOperation=completeExternalStorageOperation;var expirationDataAptStorageTypesArray=["indexedDB","webSQL","localStorage","globalStorage","fileSystem","userData"],expirationDataRepositoryName="Baked_Goods_Expiration_Data",defaultStorageTypeExpirationDataPrimedOptionsObj={webSQL:{tableData:{name:expirationDataRepositoryName,keyColumnName:"key",columnDefinitions:"(key TEXT PRIMARY KEY, expirationTimeMillis INTEGER)"},tableIndexDataArray:[{name:"Expiration_Data_By_Time",columnNames:"(expirationTimeMillis)"}]},indexedDB:{objectStoreData:{name:expirationDataRepositoryName,keyPath:"key",autoIncrement:!1},objectStoreIndexDataArray:[{name:"Expiration_Data_By_Time",keyPath:"expirationTimeMillis"}]}},defaultStorageTypeOptionsObj={cookie:{domain:null,path:null,isSecure:!1},userData:{storeName:"Baked_Goods",locusElement:null,useBodyAsBackup:!0},globalStorage:{domain:null},webSQL:{databaseName:"Baked_Goods",databaseDisplayName:"Baked Goods",databaseVersion:"",estimatedDatabaseSize:1048576,tableData:{name:"Main",columnDefinitions:"(key TEXT PRIMARY KEY, value TEXT)",keyColumnName:"key"},tableIndexDataArray:[],setOnlyIfAbsent:!1},indexedDB:{databaseName:"Baked_Goods",databaseVersion:1,objectStoreData:{name:"Main",keyPath:null,autoIncrement:!1},objectStoreIndexDataArray:[],closeConnection:!1},fileSystem:{storageType:window.TEMPORARY,size:1048576,directoryPath:"/",startPosition:0,truncateBeforeWrite:!0,truncatePosition:0,writeOnlyIfAbsent:!1,realizeDirectoryPath:!1,dataFormat:"text",dataEncoding:null,recursive:!0,removeDirectories:!0,removeTargetDirectory:!0},flash:{swfPath:"ext_bin/storageAPI.swf",lsoName:"Baked_Goods",lsoPath:null,elementID:"storageAPI",elementParent:document.body,elementStyle:"visibility:none;position:absolute;left:0;top:0;width:1px;height1px;",allowScriptAccess:"sameDomain"},silverlight:{xapPath:"ext_bin/storageAPI.xap",storeScope:"application",conduitClass:"IsolatedStorageFile",directoryPath:"/",dataFormat:"text",dataEncoding:null,startPosition:0,truncateBeforeWrite:!0,truncatePosition:0,writeOnlyIfAbsent:!1,recursive:!0,removeDirectories:!0,removeTargetDirectory:!0,elementParent:document.body,elementStyle:"visibility:none;position:absolute;left:0;top:0;width:1px;height1px;"}},defaultOperationOptionsObj={set:{conductDisjointly:!1,recordExpirationData:!1},get:{conductDisjointly:!1,regenerate:!1},remove:{removeExpirationData:!1},removeAll:{removeExpirationData:!1}},storageOperationFuncObj={cookie:{set:cookie_set,get:cookie_get,remove:cookie_remove,getAll:cookie_getAll,removeAll:cookie_removeAll,serializeLocationData:cookie_serializeLocationData,createLocationDataObj:deserializeDataItemString},userData:{set:userData_set,get:userData_get,remove:userData_remove,getAll:userData_getAll,removeAll:userData_removeAll,serializeLocationData:userData_serializeLocationData,createLocationDataObj:deserializeDataItemString},webStorage:{set:webStorage_set,get:webStorage_get,remove:webStorage_remove,getAll:webStorage_getAll,removeAll:webStorage_removeAll,serializeLocationData:webStorage_serializeLocationData,createLocationDataObj:deserializeDataItemString},webSQL:{set:webSQL_set,get:webSQL_get,remove:webSQL_remove,getAll:webSQL_getAll,removeAll:webSQL_removeAll,serializeLocationData:webSQL_serializeLocationData,createLocationDataObj:webSQL_createLocationDataObj},indexedDB:{set:indexedDB_set,get:indexedDB_get,remove:indexedDB_remove,getAll:indexedDB_getAll,removeAll:indexedDB_removeAll,serializeLocationData:indexedDB_serializeLocationData,createLocationDataObj:indexedDB_createLocationDataObj},fileSystem:{set:fileSystem_set,get:fileSystem_get,remove:fileSystem_remove,getAll:fileSystem_getAll,removeAll:fileSystem_removeAll,serializeLocationData:fileSystem_serializeLocationData,createLocationDataObj:deserializeDataItemString},flash:{set:flash_set,get:flash_get,remove:flash_remove,getAll:flash_getAll,removeAll:flash_removeAll,serializeLocationData:flash_serializeLocationData,createLocationDataObj:deserializeDataItemString},silverlight:{set:silverlight_set,get:silverlight_get,remove:silverlight_remove,getAll:silverlight_getAll,removeAll:silverlight_removeAll,serializeLocationData:silverlight_serializeLocationData,createLocationDataObj:deserializeDataItemString}};return{set:set,get:get,remove:remove,getAll:getAll,removeAll:removeAll,removeExpired:removeExpired}}();